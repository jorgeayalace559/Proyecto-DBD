create table "packages" ("id" serial primary key not null, "quantity" integer not null, "name" varchar(255) not null, "cost" integer not null, "nights" integer not null, "origin_id" integer not null, "destination_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "packages" add constraint "packages_origin_id_foreign" foreign key ("origin_id") references "cities" ("id");
alter table "packages" add constraint "packages_destination_id_foreign" foreign key ("destination_id") references "cities" ("id");
create table "room_reservations" ("id" serial primary key not null, "cost" integer not null, "date" timestamp(0) without time zone not null, "begin_date" timestamp(0) without time zone not null, "end_date" timestamp(0) without time zone not null, "purchase_order_id" integer not null, "package_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "room_reservations" add constraint "room_reservations_purchase_order_id_foreign" foreign key ("purchase_order_id") references "purchase_orders" ("id");
alter table "room_reservations" add constraint "room_reservations_package_id_foreign" foreign key ("package_id") references "packages" ("id");
create table "car_reservations" ("id" serial primary key not null, "cost" integer not null, "date" timestamp(0) without time zone not null, "begin_date" timestamp(0) without time zone not null, "end_date" timestamp(0) without time zone not null, "purchase_order_id" integer not null, "package_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "car_reservations" add constraint "car_reservations_purchase_order_id_foreign" foreign key ("purchase_order_id") references "purchase_orders" ("id");
alter table "car_reservations" add constraint "car_reservations_package_id_foreign" foreign key ("package_id") references "packages" ("id");;
create table "package_reservations" ("id" serial primary key not null, "cost" integer not null, "date" timestamp(0) without time zone not null, "begin_date" timestamp(0) without time zone not null, "end_date" timestamp(0) without time zone not null, "purchase_order_id" integer not null, "package_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "package_reservations" add constraint "package_reservations_purchase_order_id_foreign" foreign key ("purchase_order_id") references "purchase_orders" ("id");
alter table "package_reservations" add constraint "package_reservations_package_id_foreign" foreign key ("package_id") references "packages" ("id");
create table "flights" ("id" serial primary key not null, "platform" integer not null, "begin_date" timestamp(0) without time zone not null, "end_date" timestamp(0) without time zone not null, "origin_id" integer not null, "destination_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "flights" add constraint "flights_origin_id_foreign" foreign key ("origin_id") references "cities" ("id");
alter table "flights" add constraint "flights_destination_id_foreign" foreign key ("destination_id") references "cities" ("id");
create table "states" ("id" serial primary key not null, "condition" varchar(255) not null, "flight_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "states" add constraint "states_flight_id_foreign" foreign key ("flight_id") references "flights" ("id");
create table "ticket_reservations" ("id" serial primary key not null, "cost" integer not null, "date" timestamp(0) without time zone not null, "purchase_order_id" integer not null, "package_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "ticket_reservations" add constraint "ticket_reservations_purchase_order_id_foreign" foreign key ("purchase_order_id") references "purchase_orders" ("id");
alter table "ticket_reservations" add constraint "ticket_reservations_package_id_foreign" foreign key ("package_id") references "packages" ("id");
create table "cars" ("id" serial primary key not null, "capacity" integer not null, "patent" varchar(255) not null, "city" varchar(255) not null, "ticket_reservation_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "cars" add constraint "cars_ticket_reservation_id_foreign" foreign key ("ticket_reservation_id") references "ticket_reservations" ("id");
create table "tickets" ("id" serial primary key not null, "cost" integer not null, "quantity_passengers" integer not null, "ticket_reservation_id" integer not null, "flight_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "tickets" add constraint "tickets_ticket_reservation_id_foreign" foreign key ("ticket_reservation_id") references "ticket_reservations" ("id");
alter table "tickets" add constraint "tickets_flight_id_foreign" foreign key ("flight_id") references "flights" ("id");
create table "passengers" ("id" serial primary key not null, "rut" varchar(255) not null, "name" varchar(255) not null, "ticket_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "passengers" add constraint "passengers_ticket_id_foreign" foreign key ("ticket_id") references "tickets" ("id");
alter table "passengers" add constraint "passengers_rut_unique" unique ("rut");
create table "luggages" ("id" serial primary key not null, "weight" integer not null, "cost" integer not null, "type" varchar(255) not null, "passenger_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "luggages" add constraint "luggages_passenger_id_foreign" foreign key ("passenger_id") references "passengers" ("id");
create table "airplanes" ("id" serial primary key not null, "capacity" integer not null, "flight_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "airplanes" add constraint "airplanes_flight_id_foreign" foreign key ("flight_id") references "flights" ("id");
create table "seats" ("id" serial primary key not null, "number" integer not null, "type" varchar(255) not null, "remaining" integer not null, "ticket_id" integer not null, "airplane_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "seats" add constraint "seats_ticket_id_foreign" foreign key ("ticket_id") references "tickets" ("id");
alter table "seats" add constraint "seats_airplane_id_foreign" foreign key ("airplane_id") references "airplanes" ("id");
create table "payments" ("id" serial primary key not null, "type" varchar(255) not null, "bank" varchar(255) not null, "count" varchar(255) not null, "quotas" integer not null, "purchase_order_id" integer not null, "created_at" timestamp(0) without time zone null, "updated_at" timestamp(0) without time zone null);
alter table "payments" add constraint "payments_purchase_order_id_foreign" foreign key ("purchase_order_id") references "purchase_orders" ("id");